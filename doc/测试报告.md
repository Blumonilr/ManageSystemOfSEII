# ERP系统测试报告

## v2.0 正式版

### 第七小组

#### 钱宇辰 靳炳淑 王一博 吴林漾
---

### 1.0 单元测试报告

#### 1.1 ui层

|模块|是否测试|功能数|测试点|结果|
|---|---|---|
|account|||||
|book|||||
|client|||||
|draft|||||
|finance|||||
|form|||||
|log|||||
|purchase|||||
|revise|||||
|sale|||||
|stock|||||
|strategy|||||
|user|||||
|util||||||

#### 1.2 bl层

|模块|是否测试|功能数|测试点|结果|
|---|---|---|
|account|T|8|9|通过|
|book|||||
|client|T|6|6|通过|
|draft|||||
|finance|||||
|form|||||
|log|T|2|1|通过|
|purchase|T|12|3|通过|
|revise|T|6|3|1.解决了审批单据后修改客户信息错误的问题<br>2.对nullpointer的处理|
|sale|||||
|stock|T|12|48|1.查找商品的接口修改<br>2.解决了模糊查找、不完全查找结果错误的问题|
|strategy|T|5|9|通过|
|user|T|8|10|通过|
|util|T|19|20|1.解决了单据vopo转换时丢失属性的问题|


#### 1.3 data层

|模块|是否测试|功能数|测试点|结果|
|---|---|---|
|account|T|7|10|通过|
|book|||||
|client|T|5|5|1.解决了客户属性的修改问题|
|draft|||||
|finance|||||
|form|||||
|log|||||
|purchase|||||
|revise|T|5|2|1.对nullpointer的处理|
|sale|||||
|stock|T|22|37|1.解决了删除商品分类不会更新父类中的引用的问题<br>2.解决了删除商品不会更新父类中的引用的问题<bR>3.对nullpointer的处理|
|strategy|T|5|4|1.对nullpointer的处理|
|user|T|6|12|通过|
|util||||||

#### 1.4 通信模块

|模块|是否测试|功能数|测试点|结果|
|---|---|---|
|chat|T|2|2|1.解决了服务器与客户端之间流被关闭的问题<br>2.解决了服务器与客户端通信线程的启动、运行问题<br>3.解决了客户端未打开消息界面消息丢失的问题|
|chatData|T|2|2|1.解决了客户端下线时消息的去留问题<br>2.解决了客户端读取未读消息的问题|


### 2.0 集成测试回顾

由于采用了纵切的方式，测试发现的问题大多集中在不同人负责的模块的交互时。nullpointer是最常见的错误，这揭漏了我们的代码的鲁棒性不够好，不能很好地应对极端输入的情况。
因此，在不同模块间交互时，拿到数据首先要做的就是对数据规范性的检查。

其次是接口的可读性，给方法写注释可以帮助他人使用自己的代码。

### 3.0 单元测试回顾
data层的问题主要出在从数据库读取数据时强行关闭流。程序与外界建立连接以及关闭连接时一定要注意
连接的有效性。

个人写代码时应该养成随时测试的习惯，写一个功能测试一下，这样自己负责的部分的可靠性就有
很大的保障，可以为集成测试减少一些麻烦。

### 4.0 测试用例的有效性分析以及弥补的手段

大多数测试用例有效期较短，且依赖于当前数据库的状态，这导致了部分测试用例在开发进行了一段时间后
无法通过。

开发过程中会对需求进行修正，反映到代码上就是接口的更改，这也会导致已经通过的测试不能通过的问题。
但是模块主要逻辑没有更改，接口修改也简单到可以保证其正确性，故不再进行新的测试。

本系统功能众多，对每一个方法，每一个分支。每一条路径进行覆盖几乎是不可能的，故我们
只针对结构复杂、功能较为重要的模块进行了测试。对同一个功能我们会测试两次以上，并且每次测试都会
重复进行（因为系统不允许添加重复的数据）。
